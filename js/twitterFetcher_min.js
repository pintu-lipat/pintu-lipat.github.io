(function(b,a){"function"===typeof define&&define.amd?define([],a):"object"===typeof exports?module.exports=a():a()})(this,function(){function K(k){return k.replace(/<b[^>]*>(.*?)<\/b>/gi,function(m,n){return n}).replace(/class=".*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi,"")}function o(k){k=k.getElementsByTagName("a");for(var m=k.length-1;0<=m;m--){k[m].setAttribute("target","_blank")}}function l(m,p){for(var r=[],q=new RegExp("(^| )"+p+"( |$)"),u=m.getElementsByTagName("*"),n=0,v=u.length;n<v;n++){q.test(u[n].className)&&r.push(u[n])}return r}var b="",i=20,c=!0,I=[],L=!1,J=!0,s=!0,M=null,N=!0,d=!0,a=null,e=!0,f=!1,t=!0,g=!0,j=null,h={fetch:function(k){void 0===k.maxTweets&&(k.maxTweets=20);void 0===k.enableLinks&&(k.enableLinks=!0);void 0===k.showUser&&(k.showUser=!0);void 0===k.showTime&&(k.showTime=!0);void 0===k.dateFunction&&(k.dateFunction="default");void 0===k.showRetweet&&(k.showRetweet=!0);void 0===k.customCallback&&(k.customCallback=null);void 0===k.showInteraction&&(k.showInteraction=!0);void 0===k.showImages&&(k.showImages=!1);void 0===k.linksInNewWindow&&(k.linksInNewWindow=!0);void 0===k.showPermalinks&&(k.showPermalinks=!0);if(L){I.push(k)}else{L=!0;b=k.domId;i=k.maxTweets;c=k.enableLinks;s=k.showUser;J=k.showTime;d=k.showRetweet;M=k.dateFunction;a=k.customCallback;e=k.showInteraction;f=k.showImages;t=k.linksInNewWindow;g=k.showPermalinks;var m=document.getElementsByTagName("head")[0];null!==j&&m.removeChild(j);j=document.createElement("script");j.type="text/javascript";j.src="https://cdn.syndication.twimg.com/widgets/timelines/"+k.id+"?&lang="+(k.lang||"en")+"&callback=twitterFetcher.callback&suppress_response_codes=true&rnd="+Math.random();m.appendChild(j)}},callback:function(k){var p=document.createElement("div");p.innerHTML=k.body;"undefined"===typeof p.getElementsByClassName&&(N=!1);k=[];var v=[],u=[],w=[],n=[],z=[],A=[],r=0;if(N){for(p=p.getElementsByClassName("tweet");r<p.length;){0<p[r].getElementsByClassName("retweet-credit").length?n.push(!0):n.push(!1);if(!n[r]||n[r]&&d){k.push(p[r].getElementsByClassName("e-entry-title")[0]),z.push(p[r].getAttribute("data-tweet-id")),v.push(p[r].getElementsByClassName("p-author")[0]),u.push(p[r].getElementsByClassName("dt-updated")[0]),A.push(p[r].getElementsByClassName("permalink")[0]),void 0!==p[r].getElementsByClassName("inline-media")[0]?w.push(p[r].getElementsByClassName("inline-media")[0]):w.push(void 0)}r++}}else{for(p=l(p,"tweet");r<p.length;){k.push(l(p[r],"e-entry-title")[0]),z.push(p[r].getAttribute("data-tweet-id")),v.push(l(p[r],"p-author")[0]),u.push(l(p[r],"dt-updated")[0]),A.push(l(p[r],"permalink")[0]),void 0!==l(p[r],"inline-media")[0]?w.push(l(p[r],"inline-media")[0]):w.push(void 0),0<l(p[r],"retweet-credit").length?n.push(!0):n.push(!1),r++}}k.length>i&&(k.splice(i,k.length-i),v.splice(i,v.length-i),u.splice(i,u.length-i),n.splice(i,n.length-i),w.splice(i,w.length-i),A.splice(i,A.length-i));p=[];r=k.length;for(n=0;n<r;){if("string"!==typeof M){var q=u[n].getAttribute("datetime"),y=new Date(u[n].getAttribute("datetime").replace(/-/g,"/").replace("T"," ").split("+")[0]),q=M(y,q);u[n].setAttribute("aria-label",q);if(k[n].innerText){if(N){u[n].innerText=q}else{var y=document.createElement("p"),x=document.createTextNode(q);y.appendChild(x);y.setAttribute("aria-label",q);u[n]=y}}else{u[n].textContent=q}}q="";c?(t&&(o(k[n]),s&&o(v[n])),s&&(q+='<div class="user">'+K(v[n].innerHTML)+"</div>"),q+='<p class="tweet">'+K(k[n].innerHTML)+"</p>",J&&(q=g?q+('<p class="timePosted"><a href="'+A[n]+'">'+u[n].getAttribute("aria-label")+"</a></p>"):q+('<p class="timePosted">'+u[n].getAttribute("aria-label")+"</p>"))):k[n].innerText?(s&&(q+='<p class="user">'+v[n].innerText+"</p>"),q+='<p class="tweet">'+k[n].innerText+"</p>",J&&(q+='<p class="timePosted">'+u[n].innerText+"</p>")):(s&&(q+='<p class="user">'+v[n].textContent+"</p>"),q+='<p class="tweet">'+k[n].textContent+"</p>",J&&(q+='<p class="timePosted">'+u[n].textContent+"</p>"));e&&(q+='<p class="interact"><a href="https://twitter.com/intent/tweet?in_reply_to='+z[n]+'" class="twitter_reply_icon"'+(t?' target="_blank">':">")+'Reply</a><a href="https://twitter.com/intent/retweet?tweet_id='+z[n]+'" class="twitter_retweet_icon"'+(t?' target="_blank">':">")+'Retweet</a><a href="https://twitter.com/intent/favorite?tweet_id='+z[n]+'" class="twitter_fav_icon"'+(t?' target="_blank">':">")+"Favorite</a></p>");f&&void 0!==w[n]&&(y=w[n],void 0!==y?(y=y.innerHTML.match(/data-srcset="([A-z0-9%_\.-]+)/i)[0],y=decodeURIComponent(y).split('"')[1]):y=void 0,q+='<div class="media"><img src="'+y+'" alt="Image from tweet" /></div>');p.push(q);n++}if(null===a){k=p.length;v=0;u=document.getElementById(b);for(w="<ul>";v<k;){w+="<li>"+p[v]+"</li>",v++}u.innerHTML=w+"</ul>"}else{a(p)}L=!1;0<I.length&&(h.fetch(I[0]),I.splice(0,1))}};return window.twitterFetcher=h});