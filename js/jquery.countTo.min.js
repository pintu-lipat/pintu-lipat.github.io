(function(b){if(typeof define==="function"&&define.amd){define(["jquery"],b)}else{if(typeof exports==="object"){b(require("jquery"))}else{b(jQuery)}}}(function(d){var e=function(a,b){this.$element=d(a);this.options=d.extend({},e.DEFAULTS,this.dataOptions(),b);this.init()};e.DEFAULTS={from:0,to:0,speed:1000,refreshInterval:100,decimals:0,formatter:f,onUpdate:null,onComplete:null};e.prototype.init=function(){this.value=this.options.from;this.loops=Math.ceil(this.options.speed/this.options.refreshInterval);this.loopCount=0;this.increment=(this.options.to-this.options.from)/this.loops};e.prototype.dataOptions=function(){var h={from:this.$element.data("from"),to:this.$element.data("to"),speed:this.$element.data("speed"),refreshInterval:this.$element.data("refresh-interval"),decimals:this.$element.data("decimals")};var c=Object.keys(h);for(var a in c){var b=c[a];if(typeof(h[b])==="undefined"){delete h[b]}}return h};e.prototype.update=function(){this.value+=this.increment;this.loopCount++;this.render();if(typeof(this.options.onUpdate)=="function"){this.options.onUpdate.call(this.$element,this.value)}if(this.loopCount>=this.loops){clearInterval(this.interval);this.value=this.options.to;if(typeof(this.options.onComplete)=="function"){this.options.onComplete.call(this.$element,this.value)}}};e.prototype.render=function(){var a=this.options.formatter.call(this.$element,this.value,this.options);this.$element.text(a)};e.prototype.restart=function(){this.stop();this.init();this.start()};e.prototype.start=function(){this.stop();this.render();this.interval=setInterval(this.update.bind(this),this.options.refreshInterval)};e.prototype.stop=function(){if(this.interval){clearInterval(this.interval)}};e.prototype.toggle=function(){if(this.interval){this.stop()}else{this.start()}};function f(b,a){return b.toFixed(a.decimals)}d.fn.countTo=function(a){return this.each(function(){var b=d(this);var c=b.data("countTo");var j=!c||typeof(a)==="object";var l=typeof(a)==="object"?a:{};var k=typeof(a)==="string"?a:"start";if(j){if(c){c.stop()}b.data("countTo",c=new e(this,l))}c[k].call(c)})}}));